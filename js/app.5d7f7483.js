(function(){var e={1993:function(){},8810:function(e,t,a){"use strict";a(9773);var n=a(8727),r=a(3447),o=a(8600),i=a(9242),s=a(2483),l=a(3396),c=a.p+"img/logo.0ec957c4.svg";const g=e=>((0,l.dD)("data-v-67e538b4"),e=e(),(0,l.Cn)(),e),u={class:"home"},m=g((()=>(0,l._)("img",{id:"logo",alt:"logo",src:c},null,-1))),d={class:"d-flex"},p=g((()=>(0,l._)("div",{class:"d-flex flex-column justify-center align-end"},[(0,l._)("span",{class:"text-body-1"},"Ben Aldrich"),(0,l._)("span",{class:"text-caption yellow"},"cain&abelDDB")],-1)));function f(e,t,a,n,r,o){const i=(0,l.up)("v-spacer"),s=(0,l.up)("v-img"),c=(0,l.up)("v-avatar"),g=(0,l.up)("v-toolbar"),f=(0,l.up)("ImageEditor");return(0,l.wg)(),(0,l.iD)("div",u,[(0,l.Wm)(g,{style:{position:"fixed","z-index":"20"},border:"",color:"#262626",class:"d-flex align-center justify-space-between px-8"},{default:(0,l.w5)((()=>[m,(0,l.Wm)(i),(0,l._)("div",d,[p,(0,l.Wm)(c,{class:"ml-2"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{src:r.userImage,alt:"Ben"},null,8,["src"])])),_:1})])])),_:1}),(0,l.Wm)(f,{"generated-image":r.generatedImage,onSubmitImagePrompt:o.postImageData},null,8,["generated-image","onSubmitImagePrompt"])])}var h=a(7139);const v={class:"pa-4 fill-height d-flex align-center"},b={id:"imageContainer",class:"d-flex align-center justify-center w-100 h-100"},w=(0,l._)("div",{class:"text-h6"},"Generate Image",-1);function y(e,t,a,n,r,o){const i=(0,l.up)("GeneratedImage"),s=(0,l.up)("v-card"),c=(0,l.up)("v-col"),g=(0,l.up)("v-divider"),u=(0,l.up)("v-list-item"),m=(0,l.up)("v-text-field"),d=(0,l.up)("v-row"),p=(0,l.up)("v-btn"),f=(0,l.up)("v-list"),y=(0,l.up)("v-container");return(0,l.wg)(),(0,l.iD)("section",v,[(0,l.Wm)(y,{class:"fill-height",style:{"max-height":"85vh"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"fill-height"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{cols:"8",class:"fill-height"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{elevation:"2",class:"d-flex flex-column align-center fill-height"},{default:(0,l.w5)((()=>[(0,l._)("div",b,[(0,l.Wm)(i,{imageData:{aspectRatio:o.aspectRatio,generatedImageUrl:r.generatedImageUrl,progress:r.progress,generating:r.generating}},null,8,["imageData"])])])),_:1})])),_:1}),(0,l.Wm)(c,{cols:"4"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[w,(0,l.Wm)(g,{class:"my-2 pb-2"})])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{label:"Prompt",modelValue:r.imagePrompt,"onUpdate:modelValue":t[0]||(t[0]=e=>r.imagePrompt=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{cols:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{label:"Aspect Width",modelValue:r.imageWidth,"onUpdate:modelValue":t[1]||(t[1]=e=>r.imageWidth=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(c,{cols:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{label:"Aspect Height",modelValue:r.imageHeight,"onUpdate:modelValue":t[2]||(t[2]=e=>r.imageHeight=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{variant:"tonal",disabled:!!r.generating,onClick:o.generateImage},{default:(0,l.w5)((()=>[(0,l.Uk)((0,h.zw)(r.generating?"Generating...":"Generate"),1)])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}const I={class:"img-container"};function _(e,t,a,n,r,o){const i=(0,l.up)("v-img"),s=(0,l.up)("v-progress-circular");return(0,l.wg)(),(0,l.iD)("div",I,[(0,l.Wm)(i,{src:a.imageData.generatedImageUrl?a.imageData.generatedImageUrl:r.placeHolder,style:(0,h.j5)({"aspect-ratio":a.imageData.aspectRatio}),"min-width":"500",width:"100%",cover:""},null,8,["src","style"]),a.imageData.generating&&a.imageData.generatedImageUrl?((0,l.wg)(),(0,l.j4)(s,{key:0,class:"image-progress",rotate:360,size:100,width:8,"model-value":a.imageData.progress,color:"amber"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,h.zw)(a.imageData.progress)+"% ",1)])),_:1},8,["model-value"])):(0,l.kq)("",!0),a.imageData.generating&&!a.imageData.generatedImageUrl?((0,l.wg)(),(0,l.j4)(s,{key:1,class:"image-progress",size:100,width:8,indeterminate:"",color:"amber"})):(0,l.kq)("",!0)])}var W=a.p+"img/placeholder.6228678a.jpg",j={name:"GeneratedImage",props:["imageData"],data(){return{placeHolder:W}}},x=a(89);const P=(0,x.Z)(j,[["render",_],["__scopeId","data-v-11092b0a"]]);var k=P,D={name:"ImageEditor",components:{GeneratedImage:k},data(){return{generating:!1,progress:0,generatedImageUrl:null,imagePrompt:"",imageWidth:16,imageHeight:9,valid:!1,headers:{Authorization:"Bearer 558ee60b-af70-42a5-b27a-46215f74d0d2","Content-Type":"application/json"}}},methods:{async generateImage(){this.generatedImageUrl=null,this.generating=!0,this.progress=0;const e=JSON.stringify({msg:this.imagePrompt+" --ar "+this.aspectRatioReq,ref:"",webhookOverride:"",ignorePrefilter:"false"});console.log(e);try{const{data:t}=await this.$http.post("https://api.thenextleg.io/v2/imagine",e,{headers:this.headers});console.log("Request Sent => ",t.messageId),this.getImageStatus(t.messageId)}catch(t){console.error("ERROR AT PROMPT => ",t)}},async getImageStatus(e){try{console.log("Starting job for",e);const t=setInterval((async()=>{if(100!==this.progress){console.log("The progress is below 100");try{const a=await this.$http.get(`https://api.thenextleg.io/v2/message/${e}?expireMins=2`,{headers:this.headers});console.log("Progress Recieved for",e," =>",a),this.progress=a.data.progress,a.data.progressImageUrl&&(console.log(a.data.progressImageUrl),this.generatedImageUrl=a.data.progressImageUrl),100===a.data.progress&&(console.log("The progress is above 100"),console.log("Progress Complete for",e,"! =>",a.data.response.imageUrl),this.generating=!1,this.generatedImageUrl=a.data.response.imageUrl,clearInterval(t))}catch(a){console.error("ERROR AT STATUS CHECK =>",a)}}}),2e3)}catch(t){console.error(t)}},emitImagePrompt(){const e={prompt:this.imagePrompt};this.$emit("submitImagePrompt",e)}},computed:{aspectRatio(){return this.imageWidth+"/"+this.imageHeight},aspectRatioReq(){return this.imageWidth+":"+this.imageHeight}}};const U=(0,x.Z)(D,[["render",y]]);var O=U,R=a.p+"img/user.f7401a0a.jpeg",T={name:"HomeView",components:{ImageEditor:O},data(){return{message:"Hello",userImage:R,generatedImage:null}},created(){this.getImageData()},methods:{async getImageData(){try{const{data:e}=await this.$http.get("/api/get-last-image-prompt");this.message=e,console.log(this.message)}catch(e){console.error(e)}},async postImageData(e){try{const{data:t}=await this.$http.post("/api/create-image",e);console.log(t)}catch(t){console.error(t)}}}};const C=(0,x.Z)(T,[["render",f],["__scopeId","data-v-67e538b4"]]);var S=C;const A=[{path:"/",name:"home",component:S},{path:"/about",name:"about",component:()=>a.e(443).then(a.bind(a,833))}],E=(0,s.p7)({history:(0,s.PO)("/inference-midjourney/"),routes:A});var H=E,V=a(65),$=(0,V.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),q=a(4161);const z=()=>"tbd",G=q.Z.create({baseURL:z(),headers:{"Content-Type":"application/json"}});G.defaults.timeout=15e3;var M=G;function B(e,t,a,n,r,o){const i=(0,l.up)("router-view"),s=(0,l.up)("v-app");return(0,l.wg)(),(0,l.j4)(s,{class:"fill-height"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"fill-height"})])),_:1})}var Z=a(1993),N=a.n(Z);const L=(0,x.Z)(N(),[["render",B]]);var F=L;const J=(0,i.ri)(F);J.config.globalProperties.$http=M,J.mixin({methods:{_getPathAPI:z}});const K=(0,n.Rd)({theme:{defaultTheme:"dark"},components:r,directives:o});J.use($).use(K).use(H).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,o){if(!n){var i=1/0;for(g=0;g<e.length;g++){n=e[g][0],r=e[g][1],o=e[g][2];for(var s=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[l])}))?n.splice(l--,1):(s=!1,o<i&&(i=o));if(s){e.splice(g--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var g=e.length;g>0&&e[g-1][2]>o;g--)e[g]=e[g-1];e[g]=[n,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/about.6d51482a.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="client:";a.l=function(n,r,o,i){if(e[n])e[n].push(r);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),g=0;g<c.length;g++){var u=c[g];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+o){s=u;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[r];var m=function(t,a){s.onerror=s.onload=null,clearTimeout(d);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(a)})),t)return t(a)},d=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/inference-midjourney/"}(),function(){var e={143:0};a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(a,n){r=e[t]=[a,n]}));n.push(r[2]=o);var i=a.p+a.u(t),s=new Error,l=function(n){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}};a.l(i,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,i=n[0],s=n[1],l=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(l)var g=l(a)}for(t&&t(n);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(g)},n=self["webpackChunkclient"]=self["webpackChunkclient"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(8810)}));n=a.O(n)})();
//# sourceMappingURL=app.5d7f7483.js.map